# =============================================================================
# ZIPT URL SHORTENER - COOLIFY ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# This configuration is optimized for Coolify deployment

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
# Main domain for the web interface (e.g., zipt.example.com)
DOMAIN=your-domain.com

# Short domain for redirects (can be same as DOMAIN or different subdomain)
SHORT_DOMAIN=short.example.com

# Email for Let's Encrypt SSL certificates
ACME_EMAIL=admin@example.com

# =============================================================================
# APPLICATION URLS
# =============================================================================
# Base URL for the application
BASE_URL=https://your-domain.com

# Backend API URL (usually same as BASE_URL)
BACKEND_URL=https://your-domain.com

# Frontend URL (usually same as BASE_URL)
FRONTEND_URL=https://your-domain.com

# Short domain URL for redirects
SHORT_DOMAIN_URL=https://short.example.com

# =============================================================================
# NEXT.JS FRONTEND CONFIGURATION
# =============================================================================
# API base URL for frontend
NEXT_PUBLIC_API_BASE_URL=https://your-domain.com/api/v1

# Short domain for frontend
NEXT_PUBLIC_API_SHORT_DOMAIN=https://short.example.com

# Links domain for frontend
NEXT_PUBLIC_LINKS_DOMAIN=short.example.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database credentials
DATABASE_USER=zipt
DATABASE_PASSWORD=your_secure_database_password_here
DATABASE_DBNAME=zipt

# Database connection pool settings
DATABASE_MAX_IDLE_CONNS=10
DATABASE_MAX_OPEN_CONNS=100
DATABASE_CONN_MAX_LIFETIME=30

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secret Key (generate a strong random string)
JWT_SECRET_KEY=your_super_secret_jwt_key_here_make_it_long_and_random

# Cookie configuration
COOKIE_DOMAIN=your-domain.com
COOKIE_PATH=/
COOKIE_REFRESH_TOKEN_EXPIRES=60
COOKIE_ACCESS_TOKEN_EXPIRES=15

# Argon2 password hashing configuration
ARGON2_MEMORY=65536
ARGON2_ITERATIONS=20
ARGON2_PARALLELISM=4

# =============================================================================
# REDIS CONFIGURATION (Optional but recommended)
# =============================================================================
# Redis password for caching
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Application version
VERSION=1

# Machine ID for distributed systems
MACHINE_ID=1

# Gin mode (release for production)
GIN_MODE=release

# =============================================================================
# PORT CONFIGURATION (for Coolify)
# =============================================================================
# HTTP port (usually 80 for Coolify)
HTTP_PORT=80

# HTTPS port (usually 443 for Coolify)
HTTPS_PORT=443

# Short URL port (can be same as HTTP_PORT or different)
SHORT_URL_PORT=80

# =============================================================================
# OPTIONAL: AWS S3 CONFIGURATION
# =============================================================================
# Uncomment and configure if you want to use S3 for file storage
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET=your-s3-bucket-name

# =============================================================================
# OPTIONAL: EMAIL CONFIGURATION
# =============================================================================
# Uncomment and configure if you want to send emails
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM=noreply@your-domain.com

# =============================================================================
# OPTIONAL: GEOIP CONFIGURATION
# =============================================================================
# Path to GeoIP database (leave default unless you have custom setup)
GEOIP_DATABASE_PATH=./data/GeoLite2-City.mmdb

# =============================================================================
# COOLIFY SPECIFIC CONFIGURATION
# =============================================================================
# These variables are typically set by Coolify automatically
# You may need to adjust them based on your Coolify setup

# Service discovery (if using Coolify's internal networking)
# COOLIFY_NETWORK=coolify

# Health check endpoints
# HEALTH_CHECK_PATH=/health

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# Uncomment these for development/testing
# GIN_MODE=debug
# DATABASE_SSLMODE=disable

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. Generate strong random passwords for all password fields
# 2. Use a long, random JWT secret key (at least 32 characters)
# 3. Ensure your domains have proper DNS configuration
# 4. Set up proper firewall rules
# 5. Regularly update your SSL certificates (handled automatically by Caddy)
# 6. Monitor your application logs for security issues

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production:
# [ ] Set strong passwords for all services
# [ ] Configure proper domain names
# [ ] Set up DNS records
# [ ] Configure email settings (if needed)
# [ ] Set up monitoring and backups
# [ ] Test the application thoroughly
# [ ] Set up proper logging and monitoring 